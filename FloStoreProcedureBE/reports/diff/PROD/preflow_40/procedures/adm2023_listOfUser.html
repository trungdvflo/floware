<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>diff</title>
<meta name="Generator" content="Vim/9.0">
<meta name="plugin-version" content="vim9.0_v1">
<meta name="settings" content="whole_filler,use_css,no_foldcolumn,prevent_copy=,use_input_for_pc=fallback">
<meta name="colorscheme" content="none">
<style>
<!--
pre { font-family: monospace; color: #000000; background-color: #ffffff; }
body { font-family: monospace; color: #000000; background-color: #ffffff; }
* { font-size: 1em; }
.Folded { color: #0000c0; background-color: #a8a8a8; padding-bottom: 1px; }
.DiffText { background-color: #ff6060; padding-bottom: 1px; font-weight: bold; }
.DiffAdd { background-color: #5fd7ff; padding-bottom: 1px; }
.DiffChange { background-color: #ffd7ff; padding-bottom: 1px; }
.DiffDelete { color: #8080ff; background-color: #afffff; padding-bottom: 1px; }
-->
<!--
table { table-layout: fixed; }
html, body, table, tbody { width: 100%; margin: 0; padding: 0; }
table, td, th { border: 1px solid; }
td { vertical-align: top; }
th, td { width: 50.0%; }
td div { overflow: auto; }
-->
</style>
</head>
<body>
<table id='vimCodeElement'>
<tr>
<th>db/STAGE/preflow_40/procedures/adm2023_listOfUser.sql</th>
<th>db/PROD/preflow_40/procedures/adm2023_listOfUser.sql</th>
</tr><tr>
<td><div>
<pre>
<span class="Folded">+-- 73 lines: CREATE PROCEDURE `adm2023_listOfUser`(pvIds                    TEXT</span>
        ,sp.is_current `subscriptionPurchase.is_current`
        ,sp.created_date `subscriptionPurchase.created_date`
        ,rcu.user_id
        ,IF(ifnull(rcu.platform, '')     LIKE bLikeFloMac
        AND ifnull(rcu.old_platform, '') LIKE bLikeFloMac
            ,1 ,0) flo_mac_update
<span class="DiffAdd">        ,ifnull(ro.role, '') role_value</span><span class="DiffAdd">                                         </span>
<span class="DiffAdd">        ,ifnull(ro.name, '') role_name</span><span class="DiffAdd">                                          </span>
<span class="DiffAdd">        ,ifnull(ro.id, 0) role_id</span><span class="DiffAdd">                                               </span>
        ,nRows totalRows
    FROM report_cached_user rcu
<span class="DiffAdd">    LEFT JOIN admin ad ON (rcu.email = ad.email)</span><span class="DiffAdd">                                </span>
<span class="DiffAdd">    LEFT JOIN role ro ON (ad.role_id = ro.id)</span><span class="DiffAdd">                                   </span>
    LEFT JOIN (
          SELECT group_concat(gg.`name` ORDER BY gg.`name`) groups, guu.user_id
                ,group_concat(gg.group_type) group_type
                ,group_concat(guu.group_id) group_id
            FROM `group` gg
            JOIN group_user guu ON (guu.group_id = gg.id)
<span class="Folded">+-- 64 lines: GROUP BY guu.user_id----------------------------------------------</span>
</pre>
</div></td>
<td><div>
<pre>
<span class="Folded">+-- 73 lines: CREATE PROCEDURE `adm2023_listOfUser`(pvIds                    TEXT</span>
        ,sp.is_current `subscriptionPurchase.is_current`
        ,sp.created_date `subscriptionPurchase.created_date`
        ,rcu.user_id
        ,IF(ifnull(rcu.platform, '')     LIKE bLikeFloMac
        AND ifnull(rcu.old_platform, '') LIKE bLikeFloMac
            ,1 ,0) flo_mac_update
<span class="DiffDelete">--------------------------------------------------------------------------------</span>
<span class="DiffDelete">--------------------------------------------------------------------------------</span>
<span class="DiffDelete">--------------------------------------------------------------------------------</span>
        ,nRows totalRows
    FROM report_cached_user rcu
<span class="DiffDelete">--------------------------------------------------------------------------------</span>
<span class="DiffDelete">--------------------------------------------------------------------------------</span>
    LEFT JOIN (
          SELECT group_concat(gg.`name` ORDER BY gg.`name`) groups, guu.user_id
                ,group_concat(gg.group_type) group_type
                ,group_concat(guu.group_id) group_id
            FROM `group` gg
            JOIN group_user guu ON (guu.group_id = gg.id)
<span class="Folded">+-- 64 lines: GROUP BY guu.user_id----------------------------------------------</span>
</pre>
</div></td>
</tr>
</table>
</body>
</html>
<!-- vim: set foldmethod=manual : -->

